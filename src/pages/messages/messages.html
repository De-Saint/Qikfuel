<ion-header>
  <ion-navbar color="primary">
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Messages</ion-title>
  </ion-navbar>
</ion-header>
<ion-content>
  <ion-searchbar (input)="searchMsg($event)" placeholder="Search Messages"></ion-searchbar>
  <div class="for-user" id="UserOrder" *ngIf="usertype !== 'Supplier' && usertype !== 'Transporter' && usertype !== 'Admin'">
    <ion-list>
      <button ion-item *ngFor="let msg of messages" (click)="goToDetails(msg.messageid, msg.subject)">
         <ion-avatar item-left>
            <ion-icon name="md-mail" item-left></ion-icon>
          </ion-avatar>
           <ion-row no-padding class="normaltext">
            <ion-col text-left>
              <h4 hidden="hidden">{{msg.messageid}}</h4>
                {{msg.subject}}
            </ion-col>
             <ion-col text-right class="small">
              {{msg.date}}
            </ion-col>
          </ion-row>
           <ion-icon name="arrow-dropright" item-right></ion-icon>
        </button>
    </ion-list>
  </div>
  <div class="for-supplier" id="Supplier" *ngIf="usertype !== 'User' && usertype !== 'Transporter' && usertype !== 'Admin'">
    <ion-list>
      <button ion-item *ngFor="let msg of messages" (click)="goToDetails(msg.messageid, msg.subject)">
          <ion-avatar item-left>
            <ion-icon name="md-mail" item-left></ion-icon>
          </ion-avatar>
           <ion-row no-padding class="normaltext">
            <ion-col text-left>
              <h4 hidden="hidden">{{msg.messageid}}</h4>
                {{msg.subject}}
            </ion-col>
          <ion-col text-right class="small">
              {{msg.date}}
            </ion-col>
            
          </ion-row>
          
         <ion-icon name="arrow-dropright" item-right></ion-icon>
        </button>
    </ion-list>
  </div>
  <div class="for-transporter" id="Transporter" *ngIf="usertype !== 'Supplier' && usertype !== 'User' && usertype !== 'Admin'">
    <ion-list>
      <button ion-item *ngFor="let msg of messages" (click)="goToDetails(msg.messageid, msg.subject)">
          <ion-avatar item-left>
            <ion-icon name="md-mail" item-left></ion-icon>
          </ion-avatar>
           <ion-row no-padding class="normaltext">
            <ion-col text-left>
              <h4 hidden="hidden">{{msg.messageid}}</h4>
                {{msg.subject}}
            </ion-col>
              <ion-col text-right class="small">
              {{msg.date}}
            </ion-col>
          </ion-row>
           <ion-icon name="arrow-dropright" item-right></ion-icon>
        </button>
    </ion-list>
  </div>
  <div class="for-admin" id="Admin" *ngIf="usertype !== 'Supplier' && usertype !== 'Transporter' && usertype !== 'User'">
    <ion-list >
      <button ion-item *ngFor="let msg of messages" (click)="goToDetails(msg.messageid, msg.subject)">
           <ion-avatar item-left>
            <ion-icon name="md-mail" item-left></ion-icon>
          </ion-avatar>
           <ion-row no-padding class="normaltext">
            <ion-col text-left>
              <h4 hidden="hidden">{{msg.messageid}}</h4>
                {{msg.subject}}
            </ion-col>
             <ion-col text-right class="small">
              {{msg.date}}
            </ion-col>
          </ion-row>
           <ion-icon name="arrow-dropright" item-right></ion-icon>
        </button>
    </ion-list>
  </div>
  <div class="marginleft paddingleft marginright paddingright marginbottom margintop" *ngIf="nomsg === 'nomsg'">
    No Message
  </div>
  <div *ngIf="nomsg === 'none'"  class="marginleft paddingleft marginright paddingright marginbottom">
    <div class="slightly-largetext center bordertop bold half-padding primary " (click)="totop()">
      Back to Top
    </div>
  </div>
  <ion-infinite-scroll (ionInfinite)="loadmoremessages($event)">
    <ion-infinite-scroll-content loadingSpinner="bubbles">
    </ion-infinite-scroll-content>
  </ion-infinite-scroll>
</ion-content>
